"use strict";var icons={"01n":"http://res.cloudinary.com/imagine393/image/upload/v1478396096/moon-1_xdudv4.png","01d":"http://res.cloudinary.com/imagine393/image/upload/v1478396100/sunny_mnl6fl.png","02d":"http://res.cloudinary.com/imagine393/image/upload/v1478396095/clouds-1_pim37v.png","02n":"http://res.cloudinary.com/imagine393/image/upload/v1478396096/cloudy-night_lmrh4p.png","03d":"http://res.cloudinary.com/imagine393/image/upload/v1478396095/clouds_en8axb.png","03n":"http://res.cloudinary.com/imagine393/image/upload/v1478396095/clouds_en8axb.png","04d":"http://res.cloudinary.com/imagine393/image/upload/v1478396095/clouds_en8axb.png","04n":"http://res.cloudinary.com/imagine393/image/upload/v1478396095/clouds_en8axb.png","09d":"http://res.cloudinary.com/imagine393/image/upload/v1478396099/raining_o7s9kl.png","09n":"http://res.cloudinary.com/imagine393/image/upload/v1478396098/night-rain_tuxr2f.png","10d":"http://res.cloudinary.com/imagine393/image/upload/v1478396101/summer-rain_uj570x.png","10n":"http://res.cloudinary.com/imagine393/image/upload/v1478396100/stars_qwbwlq.png","11d":"http://res.cloudinary.com/imagine393/image/upload/v1478396095/bolt_fmcify.png","11n":"http://res.cloudinary.com/imagine393/image/upload/v1478396095/bolt_fmcify.png","13d":"http://res.cloudinary.com/imagine393/image/upload/v1478396099/snowflake_pmdb0d.png","13n":"http://res.cloudinary.com/imagine393/image/upload/v1478396099/snowflake_pmdb0d.png",noCode:"http://res.cloudinary.com/imagine393/image/upload/v1478396099/stars-2_nulyic.png"},vm=new Vue({el:"#weather",data:{lat:"",lon:"",isFahrenheit:!0,tempKelvin:"",description:"",iconCode:""},computed:{tempFahrenheit:function(){return this.tempKelvin?Math.round(9*this.tempKelvin/5-459.67):""},tempCelcius:function(){return this.tempKelvin?Math.round(this.tempKelvin-273.15):""},iconUrl:function(){return this.iconCode&&icons.hasOwnProperty(this.iconCode)?icons[this.iconCode]:icons.noCode},fahrenheitClasses:function(){return{"btn-default":!this.isFahrenheit,"btn-success":this.isFahrenheit}},celciusClasses:function(){return{"btn-default":this.isFahrenheit,"btn-success":!this.isFahrenheit}}},created:function(){this.getWeather()},methods:{getWeather:function(){this.$http.get("http://freegeoip.net/json/").then(this.callWeatherApi,this.handleError)},callWeatherApi:function(i){this.lat=i.body.latitude,this.lon=i.body.longitude;var e="d20c1eb3064a44aa39bc1a78bb8ff139",n="http://api.openweathermap.org/data/2.5/weather?lat="+this.lat+"&lon="+this.lon+"&appid="+e;this.$http.get(n).then(this.setTempAndDescription,this.handleError)},setTempAndDescription:function(i){this.tempKelvin=i.body.main.temp,this.description=i.body.weather[0].description,this.iconCode=i.body.weather[0].icon},handleError:function(i){console.log("Something went wrong",i)}},filters:{capitalize:function(i){return i?(i=i.toString().split(" "),i=i.map(function(i){return i.charAt(0).toUpperCase()+i.slice(1)}),i.join(" ")):""}}});