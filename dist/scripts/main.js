"use strict";var icons={"01n":"images/moon-1.png","01d":"images/sunny.png","02d":"images/clouds-1.png","02n":"images/cloudy-night.png","03d":"images/clouds.png","03n":"images/clouds.png","04d":"images/clouds.png","04n":"images/clouds.png","09d":"images/raining.png","09n":"images/night-rain.png","10d":"images/summer-rain.png","10n":"images/stars.png","11d":"images/bolt.png","11n":"images/bolt.png","13d":"images/snowflake.png","13n":"images/snowflake.png",noCode:"images/stars-2.png"},vm=new Vue({el:"#weather",data:{lat:"",lon:"",isFahrenheit:!0,tempKelvin:"",description:"",iconCode:""},computed:{tempFahrenheit:function(){return this.tempKelvin?Math.round(9*this.tempKelvin/5-459.67):""},tempCelcius:function(){return this.tempKelvin?Math.round(this.tempKelvin-273.15):""},iconUrl:function(){return this.iconCode&&icons.hasOwnProperty(this.iconCode)?icons[this.iconCode]:icons.noCode},fahrenheitClasses:function(){return{"btn-default":!this.isFahrenheit,"btn-success":this.isFahrenheit}},celciusClasses:function(){return{"btn-default":this.isFahrenheit,"btn-success":!this.isFahrenheit}}},created:function(){this.getWeather()},methods:{getWeather:function(){this.$http.get("http://freegeoip.net/json/").then(this.callWeatherApi,this.handleError)},callWeatherApi:function(e){this.lat=e.body.latitude,this.lon=e.body.longitude;var t="d20c1eb3064a44aa39bc1a78bb8ff139",n="http://api.openweathermap.org/data/2.5/weather?lat="+this.lat+"&lon="+this.lon+"&appid="+t;this.$http.get(n).then(this.setTempAndDescription,this.handleError)},setTempAndDescription:function(e){this.tempKelvin=e.body.main.temp,this.description=e.body.weather[0].description,this.iconCode=e.body.weather[0].icon},handleError:function(e){console.log("Something went wrong",e)}},filters:{capitalize:function(e){return e?(e=e.toString().split(" "),e=e.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),e.join(" ")):""}}});